<!DOCTYPE html>
<html>  
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
                <link rel="stylesheet" href="http://openlayers.org/en/v3.10.1/css/ol.css" type="text/css">
        <title>Forecast Search</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
        <script type='text/javascript' src="http://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxtransport-xdomainrequest/1.0.1/jquery.xdomainrequest.min.js"></script>
        <script src="//connect.facebook.net/en_US/all.js"></script>
        
        
        <script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
        <script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js" ></script>
        
        
          <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
          <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
          <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.js"></script>
        <style type="text/css">    
            
            label.error
            {
                font:red;
            }
            
            body 
            {
                background-image: url("http://cs-server.usc.edu:45678/hw/hw8/images/bg.jpg");
                background-position: center center;
                background-repeat: no-repeat;
                background-attachment: fixed;
                text-align:center;
                background-size:cover;
            }
            
            h2
            {
                font-family:Trebuchet MS;
            }
            
            .asteriks
            {
                color:red;
            }
            
            label
            {
                display: inline-block;
                height:15px;
                color: #ffffff;
                font-family:Trebuchet MS;
                
            }
            
            .form-group
            {
                text-align: left;
                display: inline-block;
            }
            
                .panel-transparent {
                background: none;
            }

            
            .panel-transparent .panel-body{
                background: rgba(46, 51, 56, 0.2)!important;
            }
            
            .btn .btn-primary
            {
                vertical-align: center;
                align-content: center;
            }
            
            //.tabs
            //{
               // position:relative;
                //padding-left: 200px;
            //}
            
            .tab-content
            {
                align-content: left;
            }
            
            .container-fluid
            {
                postion:relative;
                align-content:left;
                align-self: left;
            }

            .col-sm-6
            {
                text-align: left;
                line-height: 30px;
            }
            
            .col-sm-12
            {
                text-align: left;
            }
            
            #temperature {color: white; font-size: 60px; font-weight:normal}
            
            .nav-pills > .active > a, .nav-pills > .active > a:hover {
                background-color: blue;
            }
            
            .blue .active a,
            .blue .active a:hover {
                background-color: blue;
            }
            
            .blue li a
            {
                background-color: #FCFCFC;
            }
            
            .imgcontainer
            {
                    position: absolute;
                    top: 0;
                    bottom: 0;
                    left: 0;
                    right: 0;

                    text-align:center; /* Align center inline elements */
            }
            
            .imgcontainer:before {
                    content: ' ';
                    display: inline-block;
                    vertical-align: middle;
                    height: 100%;
            }
            
            sub,
            sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline;
            }
            sup {
            top: -0.5em;
            }
            sub {
            bottom: -0.25em;
            }
       
            
        </style>
        <script type"text/javascript">
        
        function init() {
                var map = new OpenLayers.Map('basicMap');
        var wms = new OpenLayers.Layer.WMS( "OpenLayers WMS",
            "http://vmap0.tiles.osgeo.org/wms/vmap0", {layers: 'basic'} );
        map.addLayer(wms);
        map.zoomToMaxExtent();
        }
        
        function formatAMPM(times) {
          finaltimes=new Date(times*1000);
          var hours = finaltimes.getHours();
          var minutes = finaltimes.getMinutes();
          var ampm = hours >= 12 ? 'pm' : 'am';
          hours = hours % 12;
          hours = hours ? hours : 12; // the hour '0' should be '12'
          minutes = minutes < 10 ? '0'+minutes : minutes;
          var strTime = hours + ':' + minutes + ' ' + ampm;
          return strTime;
        }
            
        function getMonthDay(times)
        {
            finaltimes=new Date(times*1000);
            var currentmonth = finaltimes.getMonth();
            var month = new Array();
            month[0] = "Jan";
            month[1] = "Feb";
            month[2] = "Mar";
            month[3] = "Apr";
            month[4] = "May";
            month[5] = "Jun";
            month[6] = "Jul";
            month[7] = "Aug";
            month[8] = "Sep";
            month[9] = "Oct";
            month[10] = "Nov";
            month[11] = "Dec";
            return month[currentmonth]+" "+finaltimes.getDate();
        }
            
        
        function getWeekDay(times)
        {
            finaltimes=new Date(times*1000);
            var currentDay = finaltimes.getDay();
            var weekday = new Array(7);
            weekday[0]=  "Sunday";
            weekday[1] = "Monday";
            weekday[2] = "Tuesday";
            weekday[3] = "Wednesday";
            weekday[4] = "Thursday";
            weekday[5] = "Friday";
            weekday[6] = "Saturday";

            return weekday[currentDay];
        }
        
        function getimage(icon)
        {
             if(icon == 'clear-day')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/clear.png";
                    else if(icon == 'clear-night')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png";
                    else if(icon == 'rain')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/rain.png";
                    else if(icon == 'snow')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/snow.png";
                    else if(icon == 'sleet')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png";
                    else if(icon == 'wind')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/wind.png";
                    else if(icon == 'fog')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/fog.png";
                    else if(icon == 'cloudy')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png";
                    else if(icon == 'partly-cloudy-day')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png";
                    else if(icon == 'partly-cloudy-night')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png";
            return image;
        }
        function parsedays(data)
        {
            html_text="";
            for(i=1;i<8;i++)
            {
                html_text="<h5>"+data.daily.data[i].time+"</h5><br /><h5>"+data.daily.data[i].time+"</h5><br /><img src=\""+getimage(data.daily.data[i].icon)+"\" alt=\""+data.daily.data[i].icon+"\" width=50px height=50px /><br /><p>Min Temperature</p><br /><h5>"+data.daily.data[i].temperatureMax+" &deg</h5><br /><p>Max Temperature</p></br /><h5>"+data.daily.data[i].temperatureMax+" &deg</h5>";
                panel=document.getElementById("panel"+i);
                panel.innerHTML=html_text;
                modalheading=document.getElementById("myModalLabel"+i);
                modalheading.innerHTML="Weather in "+document.getElementById("City").value+" on "+getMonthDay(data.daily.data[i].time);
                modalbody=document.getElementById("modalbody"+i);
                modalbody.innerHTML="<img src=\""+getimage(data.daily.data[i].icon)+"\" alt=\""+data.daily.data[i].icon+"\" width=150px height=150px /><br /><br /><h2>"+getWeekDay(data.daily.data[i].time)+": <span style=\"color:orange\">"+data.daily.data[i].summary+"</span></h2><br /><div class=\"row\"><div class=\"col-sm-4\"><h3>Sunrise Time</h3><h4>"+formatAMPM(data.daily.data[i].sunriseTime)+"</h4></div><div class=\"col-sm-4\"><h3>Sunset Time</h3><h4>"+formatAMPM(data.daily.data[i].sunsetTime)+"</h4></div><div class=\"col-sm-4\"><h3>Humidity</h3><h4>"+data.daily.data[i].humidity*100+"%</h4></div><div class=\"row\"><div class=\"col-sm-4\"><h3>Wind Speed</h3><h4>"+data.daily.data[i].windSpeed+"mph</h4></div><div class=\"col-sm-4\"><h3>Visibility</h3><h4>"+data.daily.data[i].visibility+"mi</h4></div><div class=\"col-sm-4\"><h3>Pressure</h3><h4>"+data.daily.data[i].pressure+"mb</h4></div></div>";
            }
            
            
        }
        
        function parsejson(data)
        {
            iconval=data.currently.summary;
            summary=data.currently.summary+" in "+document.getElementById("City").value+", "+state[state.selectedIndex].value;
                    if(data.currently.icon == 'clear-day')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/clear.png";
                    else if(data.currently.icon == 'clear-night')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png";
                    else if(data.currently.icon == 'rain')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/rain.png";
                    else if(data.currently.icon == 'snow')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/snow.png";
                    else if(data.currently.icon == 'sleet')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png";
                    else if(data.currently.icon == 'wind')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/wind.png";
                    else if(data.currently.icon == 'fog')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/fog.png";
                    else if(data.currently.icon == 'cloudy')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png";
                    else if(data.currently.icon == 'partly-cloudy-day')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png";
                    else if(data.currently.icon == 'partly-cloudy-night')
                    image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png";

                    if(data.currently.precipIntensity >= 0 && data.currently.precipIntensity < 0.002)
                    precipitation='None';
                    else if(data.currently.precipIntensity >= 0.002 && data.currently.precipIntensity < 0.017)
                    precipitation='Very Light';
                    else if(data.currently.precipIntensity >= 0.017 && data.currently.precipIntensity < 0.1)
                    precipitation='Light';
                    else if(data.currently.precipIntensity >= 0.1 && data.currently.precipIntensity < 0.4)
                    precipitation='Moderate';
                    else if(data.currently.precipIntensity >= 0.4)
                    precipitation='Heavy';

                    ChanceOfRain=(data.currently.precipProbability * 100)+"%";

                    if(selecteddegree == "Celsius")
                    {
                       WindSpeed=(data.currently.windSpeed)+' m/s';
                    }
                    else
                    {
                       WindSpeed=(data.currently.windSpeed)+' mph';
                    }

                    dewPoint=(data.currently.dewPoint);

                    humidity=(data.currently.humidity * 100)+"%";

                    if(selecteddegree == "Celsius")
                    {
                        visibility=(data.currently.visibility)+" km";
                    }
                    else
                    {
                        visibility=(data.currently.visibility)+" mi";
                    }
                    
                    var sunrise=data.daily.data[0].sunriseTime;
                    sunrisetime=formatAMPM(sunrise);
                
                    var sunset=data.daily.data[0].sunsetTime;
                    sunsettime=formatAMPM(sunset);
            
                    mintemp=Math.round(data.daily.data[0].temperatureMin);
                    maxtemp=Math.round(data.daily.data[0].temperatureMax);
            
                    document.getElementById("forecastimage").src=image;
                    document.getElementById("summary").innerHTML=summary;
                    document.getElementById("forecastimage").alt=data.currently.icon;
                    document.getElementById("temperature").innerHTML=Math.round(data.currently.temperature)+"<sup style=\"vertical-align:20px; font-size:20px; font-weight:normal\"> &deg F</sup>";
                    document.getElementById("precipitation").innerHTML=precipitation;
                    document.getElementById("chanceofrain").innerHTML=ChanceOfRain;
                    document.getElementById("windspeed").innerHTML=WindSpeed;
                    document.getElementById("dewpoint").innerHTML=dewPoint;
                    document.getElementById("humidity").innerHTML=humidity;
                    document.getElementById("visibility").innerHTML=visibility;
                    document.getElementById("sunrise").innerHTML=sunrisetime;
                    document.getElementById("sunset").innerHTML=sunsettime;
                    document.getElementById("final").style.display="block";
                    document.getElementById("minTemperature").innerHTML="L: "+mintemp + "&deg; | ";
                    document.getElementById("maxTemperature").innerHTML="H: "+maxtemp + "&deg;";
            
                    table=document.getElementById("hourforecast");

                    var header = table.createTHead();
            
                    // Create an empty <tr> element and add it to the first position of <thead>:
                    var row = header.insertRow(0);    
                    // Insert a new cell (<td>) at the first position of the "new" <tr> element:
                    var cellheader1 = row.insertCell(0);
                    var cellheader2 = row.insertCell(0);
                    var cellheader3 = row.insertCell(0);
                    var cellheader4 = row.insertCell(0);
                    var cellheader5 = row.insertCell(0);

                    cellheader1.innerHTML="View Details";
                    cellheader2.innerHTML="Temp";
                    cellheader3.innerHTML="Cloud Cover";
                    cellheader4.innerHTML="Summary";
                    cellheader5.innerHTML="Time";
                    
            
            
                    html_text="";
                    for(i=1; i<data.hourly.data.length;i++)
                    {
                        if(data.hourly.data[i].icon == 'clear-day')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/clear.png";
                        else if(data.hourly.data[i].icon == 'clear-night')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/clear_night.png";
                        else if(data.hourly.data[i].icon == 'rain')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/rain.png";
                        else if(data.hourly.data[i].icon == 'snow')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/snow.png";
                        else if(data.hourly.data[i].icon == 'sleet')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/sleet.png";
                        else if(data.hourly.data[i].icon == 'wind')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/wind.png";
                        else if(data.hourly.data[i].icon == 'fog')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/fog.png";
                        else if(data.hourly.data[i].icon == 'cloudy')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/cloudy.png";
                        else if(data.hourly.data[i].icon == 'partly-cloudy-day')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_day.png";
                        else if(data.hourly.data[i].icon == 'partly-cloudy-night')
                        image="http://cs-server.usc.edu:45678/hw/hw8/images/cloud_night.png";
        
                        //tablehourly=document.getElementById("hourforecast");
                        //row=tablehourly.insertRow(i);
                        //timeinfo=row.insertCell(0);
                        //summaryinfo=row.insertCell(1);
                        //cloudcoverinfo=row.insertCell(2);
                        //tempinfo=row.insertCell(3);
                        //detailsinfo=row.insertCell(4);
                        
                        //timeinfo.innerHTML=data.hourly.data[i].time;
                        //summaryinfo.innerHTML="<img src=\""+image+"\" width=30px height=30px />";
                        //cloudcoverinfo.innerHTML=data.hourly.data[i].cloudCover+'%';
                        //tempinfo.innerHTML=data.hourly.data[i].temperature;
                        //detailsinfo.innerHTML="<div class=\"panel-group\" id=\"accord"+i+"\" role=\"tablist\" aria-multiselectable=\"true\"><div class=\"panel panel-default\">";
                        //detailsinfo.innerHTML+="<div class=\"panel-heading\" role=\"tab\" id=\"heading"+i+"\"><h4 class=\"panel-title\">";
                        //detailsinfo.innerHTML+="<a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accord"+i+"\" href=\"#collapse"+i+ "\"aria-expanded=\"true\" aria-controls=\"collapseOne"+i+"\">+</a>";
                        //detailsinfo.innerHTML+="</h4></div><div id=\"collapse"+i+"\" class=\"panel-collapse collapse in\" role=\"tabpanel\" aria-labelledby=\"heading"+i+"\"><div class=\"panel-body\">";
                        //detailsinfo.innerHTML+="<table class=\"table\" style=\"background-color:white\"><tbody><th>Wind</th><th>Humidity</th><th>Visibilty</th><th>Pressure</th>";
                        //detailsinfo.innerHTML+="<td>"+data.hourly.data[i].windSpeed+"</td>"+data.hourly.data[i].humidity+"<td>"+data.hourly.data[i].visibilty+"</td><td>"+data.hourly.data[i].pressure+"</td></tbody></table>";
                        //detailsinfo.innerHTML+="</div></div></div></div>";
                        html_text+="<tr data-toggle=\"collapse\" data-target=\"#collapse"+i+"\" class=\"accordion-toggle\"><td>"+formatAMPM(data.hourly.data[i].time)+"</td><td><img src=\""+image+"\" width=30px height=30px /></td><td>"+data.hourly.data[i].temperature+"</td><td>"+data.hourly.data[i].temperature+"</td><td><a href=\"#\"><span class=\"glyphicon glyphicon-plus\"></span></a></td></tr><tr><td bgcolor=\"#F2F2F2\" colspan=\"10\" class=\"hiddenRow\"><div class=\"accordian-body collapse\" id=\"collapse"+i+"\"><table class=\"table table-striped\" style=\"width:90%; margin: auto\"><thead><tr><th>Wind</th><th>Humidity</th><th>Visibilty</th><th>Pressure</th></tr></thead><tbody><tr><td bgcolor=\"#F2F2F2\">"+data.hourly.data[i].windSpeed+"</td><td bgcolor=\"#F2F2F2\">"+data.hourly.data[i].humidity+"</td><td bgcolor=\"#F2F2F2\">"+data.hourly.data[i].visibilty+"</td><td bgcolor=\"#F2F2F2\">"+data.hourly.data[i].pressure+"</td></tr></tbody></table></div></td></tr>";
                   }
                   document.getElementById("tablebody").innerHTML=html_text;
                    
                   parsedays(data);
                    
}
        </script>
        
    </head>
    <body>
        <script>
                window.fbAsyncInit = function() {
                FB.init({
                    appId      : 'your-app-id',
                    xfbml      : true,
                    version    : 'v2.5'
                });
                };

                (function(d, s, id){
                 var js, fjs = d.getElementsByTagName(s)[0];
                 if (d.getElementById(id)) {return;}
                 js = d.createElement(s); js.id = id;
                 js.src = "//connect.facebook.net/en_US/sdk.js";
                 fjs.parentNode.insertBefore(js, fjs);
                 }(document, 'script', 'facebook-jssdk'));
        </script>
        
        <h2>Forecast Search</h2><br />
        <div class="container">
        <div class="panel panel-primary panel-transparent">
        <div class="panel-body">
        <form id="forecastform" name= "forecastform" class="form-inline" method="get" novalidate="novalidate">
        <div class="col-sm-3" align="left" style="padding-right:0.2%; padding-left:0.2%">
            <label>Street Address:<span class="asteriks">*</p></label><br />
            <input type="text" class="form-control" id="streetAddress" name="streetAddress" style="width:100%" placeholder="Enter street address" required/>
            <label id="add"></label>
        </div>
        <div class="col-sm-2" align="left" style="padding-right:0.2%; padding-left:0.2%">
            <label>City:<span class="asteriks">*</p></label><br />
            <input type="text" class="form-control" id="City" name="City" style="width:100%" placeholder="Enter city" required/>
        </div>
        <div class="col-sm-2" align="left" style="padding-right:0.2%; padding-left:0.2%">
            <label>State:<span class="asteriks">*</p></label><br />
            <select class="form-control required" id="State" name="State" style="width:100%">
            <option value="" selected>Select your state...</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
            </select>
        </div>
        <div class="col-sm-2" align="left" style="padding-right:0.2%; padding-top:1.5%; padding-left:0.2%">
            <label>Degree:<span class="asteriks">*</p></label><br>
            <div><input type="radio" name="Degree" value="Fahrenheit" checked><span style="color:#ffffff"> Fahrenheit</span></input>
            <input type="radio" name="Degree" value="Celsius" style="margin-left:5%"><span style="color:#ffffff"> Celsius</span></input></div>
        </div>

        <div class="form-group" style="valign:center; align-content:center; float:right">
            <br />
                    <button class="btn btn-primary" type="submit" id="Search" name="Search" value="Search"><i class="glyphicon glyphicon-search"> Search</i></button>
                    <button class="btn btn-default"><span class="glyphicon glyphicon-refresh"></span> Clear</button>
                    <br /><br /><p style="color:#ffffff">Powered By:<img src="http://cs-server.usc.edu:45678/hw/hw8/images/forecast_logo.png" width=100px height=50px/></p>
            </div>
  
        </form>
        </div>
  </div>
            <hr/>


<div id="final" class="tabs" style="display: none;">

<!-- Nav tabs -->
    <div class="row">
            <div class="col-xs-12">
            <ul class="nav nav-pills blue">
            <li class="active"><a href="#now" data-toggle="tab" >Right Now</a></li>
            <li><a href="#nexthours" data-toggle="tab">Next 24 Hours</a></li>
            <li><a href="#nextdays" data-toggle="tab">Next 7 Days</a></li>
            </ul>
        </div>
    </div>
     <div class="tab-content">
                    <div class="tab-pane fade in active" id="now">
                    <div class="container-fluid">
                    <div class="row" id="my-row">
                    <div id="resulttable" class="col-sm-6">
                    <div class="row" style="background-color:#F08080;">
                    <div id="weat" class="col-sm-6" style="background-color:#F08080;">
                    <center><img id="forecastimage" style="width:110px; height:130px; padding-top:30px; " /></center>
                    </div>
                    <div class="col-sm-6" style="background-color:#F08080;text-align:center">
                    <b><p id="summary" style="valign:top; align:center; color:white;"></p></b><br />
                        <p style="font:white; align:center; font-weight:bold" id="temperature"></p><span  style="position:absolute;bottom:8px; right:8px;"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/fb_icon.png" width="40px" height="40px" onclick="FB.login();"/></span>
                        <br /><span id="minTemperature" style="color:purple"></span><span id="maxTemperature" style="color:green"></span>
                    </div>
                    

                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:lavender;"><span>Precipitation</span>
                    </div>
                    <div id="precipitation" class="col-xs-6" style="background-color:lavender;">
                    </div>
                        </div>
                    
                    <div class="row">
                    <div class="col-xs-6" style="background-color:#FFE6FF;"><span>Chance of Rain</span>
                    </div>
                    <div id="chanceofrain" class="col-xs-6" style="background-color:#FFE6FF;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:lavender;"><span>Wind Speed</span>
                    </div>
                    <div id="windspeed" class="col-xs-6" style="background-color:lavender;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:#FFE6FF;"><span>Dew Point</span>
                        
                    </div>
                    <div id="dewpoint" class="col-xs-6" style="background-color:#FFE6FF;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:lavender;"><span>Humidity</span>
                    </div>
                    <div id="humidity" class="col-xs-6" style="background-color:lavender;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:#FFE6FF;"><span>Visibility</span>
                    </div>
                    <div id="visibility" class="col-xs-6" style="background-color:#FFE6FF;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:lavender;"><span>Sunrise</span>
                    </div>
                    <div id="sunrise" class="col-xs-6" style="background-color:lavender;">
                    </div>
                    </div>
                    <div class="row">
                    <div class="col-xs-6" style="background-color:lavender;"><span>Sunset</span>
                    </div>
                    <div id="sunset" class="col-xs-6" style="background-color:#FFE6FF;">
                    </div>
                    </div></div>
                    <div id="resulttab" class="col-sm-6" style="margin-left:0px; padding-left:0px">
                    <div id="basicMap" style="height:410px; width:570px;">
                            </div></div>
                            
                <script defer="defer" type="text/javascript">
           //Center of map
                    //var lonlat = new OpenLayers.LonLat(50, 50);
                    //var washingtonLonLat = [-77.036667, 38.895];
                    //var washingtonWebMercator = OpenLayers.proj.fromLonLat(washingtonLonLat);
                    
                    var map = new OpenLayers.Map('basicMap');   
                                        
                    // Create OSM overlays
                    var mapnik = new OpenLayers.Layer.OSM();

                           var layer_cloud = new OpenLayers.Layer.XYZ(
                        "clouds",
                        "http://${s}.tile.openweathermap.org/map/clouds/${z}/${x}/${y}.png",
                        {
                            isBaseLayer: false,
                            opacity: 0.7,
                            sphericalMercator: true,
                        }
                    );

                    var layer_precipitation = new OpenLayers.Layer.XYZ(
                        "precipitation",
                        "http://${s}.tile.openweathermap.org/map/precipitation/${z}/${x}/${y}.png",
                        {
                            isBaseLayer: false,
                            opacity: 0.7,
                            sphericalMercator: true
                        }
                    );

                    map.addLayers([mapnik, layer_precipitation, layer_cloud]);

                        var fromProjection=new OpenLayers.Projection("EPSG:4326");
                        var toProjection=new OpenLayers.Projection("EPSG:900913");
                        var position=new OpenLayers.LonLat(-118.243685,34.052234).transform(fromProjection,toProjection);

                    map.setCenter(position,16);



                    //map.zoomToMaxExtent();
                    </script>

                        </div></div></div>
                    <div class="tab-pane fade" id="nexthours" >
                        
                        
                    <table id="hourforecast" class="table table-condensed" style="border-collapse:collapse;background-color:white">
                    <tbody id="tablebody">
                    </tbody>
                  </table>
                </div>
                    <div class="tab-pane fade" id="nextdays" style="background-color:black; width:100%" >
                                <div class="row" style="margin:0 auto; display: table; border-collapse: separate; border-spacing: 10px;width:100%; align:content:center">
                                <div class="col-sm-12" style="text-align:center; margin: auto; ">
                                    <div class="col-sm-1"  align="center">
                                <div id="panel1" class="panel panel-primary" data-toggle="modal" data-target="#myModal1" align="center" style="background-color:blue; display:table-cell; vertical-align:middle;">
                                        </div>
                                      <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel1" align="left"></h4>
                                          </div>
                                          <div id="modalbody1" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                        </div>
                                    <div class="col-sm-1" align="center">
                                        <div id="panel2" class="panel panel-primary" data-toggle="modal" data-target="#myModal2" align="center" style="background-color:red;; display:table-cell; vertical-align:middle">     
                                        </div>
                                        <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel2"  align="left"></h4>
                                          </div>
                                          <div id="modalbody2" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                     </div>
                                    <div class="col-sm-1" align="center">
                                    <div id="panel3" class="panel panel-primary" data-toggle="modal" data-target="#myModal3" align="center" style="background-color:orange; display:table-cell; vertical-align:middle;">
                                    </div>
                                         <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel3"  align="left"></h4>
                                          </div>
                                          <div id="modalbody3" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-1" align="center">
                                    <div id="panel4" class="panel panel-primary" data-toggle="modal" data-target="#myModal4" align="center" style="background-color:yellow; display:table-cell; vertical-align:middle;">
                                    </div>
                                         <div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel4" align="left"></h4>
                                          </div>
                                          <div id="modalbody4" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-1" align="center">
                                    <div id="panel5" class="panel panel-primary" data-toggle="modal" data-target="#myModal5" lign="center" style="background-color:purple; display:table-cell; vertical-align:middle;">
                                        </div>
                                         <div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel5" align="left"></h4>
                                          </div>
                                          <div id="modalbody5" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-1" align="center">
                                    <div id="panel6" class="panel panel-primary" data-toggle="modal" data-target="#myModal6" align="center" style="background-color:pink; display:table-cell; vertical-align:middle;">
                                    </div>
                                         <div class="modal fade" id="myModal6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel6" align="left"></h4>
                                          </div>
                                          <div id="modalbody6" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                    <div class="col-sm-1" align="center">
                                    <div id="panel7" class="panel panel-primary" data-toggle="modal" data-target="#myModal7" align="center" style="background-color:maroon; display:table-cell; vertical-align:middle;">
                                    </div>
                                         <div class="modal fade" id="myModal7" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                          <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                            <h4 class="modal-title" id="myModalLabel7" align="left"></h4>
                                          </div>
                                          <div id="modalbody7" class="modal-body" align="center">
                                            ...
                                          </div>
                                          <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    </div>
                                    <!-- Modal -->

                                    </div>
                        </div>
                    </div>
    </div></div></div>


 <script type="text/javascript" language="javascript">
     var selecteddegree;
     var html_text="";
     var state=document.getElementById("State");
     var degree=document.getElementsByName("Degree");
     var contentType ="application/x-www-form-urlencoded; charset=utf-8";
     for(i=0;i<degree.length;i++)
     {
         if(degree[i].checked)
         selecteddegree=degree[i].value;
     }
     
      $(function() {
  
    // Setup form validation on the #register-form element
    $("#forecastform").validate({
    
        // Specify the validation rules
        rules: {
                streetAddress: {required:true},
                City: {required:true},
                State: { required:true }
            },
        
            // Specify the validation error messages
            messages: {
                streetAddress: "<b>Please enter the Street Address</b>",
                City: "Please enter the City",
                State: "Please select a State"
                
            },
        
        submitHandler: function() {
            submitform();
        }
    });

  });
     
     
            function submitform()
            {
                $.ajax({
                type: "GET",
                data:{streetaddress : document.getElementById("streetAddress").value, 
                      city : document.getElementById("City").value,
                      state : state[state.selectedIndex].value,
                      degree : selecteddegree},
                dataType : "json",
                crossDomain : true,
                contentType:contentType,
                url: "http://myawsapplication-env.elasticbeanstalk.com/",
                success : function(output){
                    data = JSON.parse(output);
                    parsejson(data);
                },
                error : function(){   
                    alert("COR");
                }
            }); 
                return false;

        }  

            
</script>


    </body>

</html>
